<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KapEngine: NewComponentFr</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KapEngine<span id="projectnumber">&#160;1.1</span>
   </div>
   <div id="projectbrief">ECS engine in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">NewComponentFr </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="fragment"><div class="line">██╗  ██╗ █████╗ ██████╗ ███████╗███╗   ██╗ ██████╗ ██╗███╗   ██╗███████╗</div>
<div class="line">██║ ██╔╝██╔══██╗██╔══██╗██╔════╝████╗  ██║██╔════╝ ██║████╗  ██║██╔════╝</div>
<div class="line">█████╔╝ ███████║██████╔╝█████╗  ██╔██╗ ██║██║  ███╗██║██╔██╗ ██║█████╗  </div>
<div class="line">██╔═██╗ ██╔══██║██╔═══╝ ██╔══╝  ██║╚██╗██║██║   ██║██║██║╚██╗██║██╔══╝  </div>
<div class="line">██║  ██╗██║  ██║██║     ███████╗██║ ╚████║╚██████╔╝██║██║ ╚████║███████╗</div>
<div class="line">╚═╝  ╚═╝╚═╝  ╚═╝╚═╝     ╚══════╝╚═╝  ╚═══╝ ╚═════╝ ╚═╝╚═╝  ╚═══╝╚══════╝</div>
<div class="line">                                                                        </div>
<div class="line">par Benjamin DELVERT</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md14"></a>
Créer ton composant</h1>
<p >Sur cette page tu vas apprendre qu'est ce qu'un <a class="el" href="class_kap_engine_1_1_component.html">KapEngine::Component</a>, pourquoi il existse et comment en créer un.</p>
<h2><a class="anchor" id="autotoc_md15"></a>
Table des matières</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Titre   </th><th class="markdownTableHeadNone">Lien   </th><th class="markdownTableHeadNone">Statut    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Qu'est ce qu'un composant   </td><td class="markdownTableBodyNone">GO   </td><td class="markdownTableBodyNone">:green_circle:    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Créer le sien   </td><td class="markdownTableBodyNone">GO   </td><td class="markdownTableBodyNone">:large_orange_diamond:    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Démarrage Rapide   </td><td class="markdownTableBodyNone">GO   </td><td class="markdownTableBodyNone">:green_circle:   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md16"></a>
Qu'est ce qu'un composant</h2>
<p >Un composant est un script rattaché à un objet de jeu (<a class="el" href="class_kap_engine_1_1_game_object.html">KapEngine::GameObject</a>). Il a pour but de donner une logique ou une action à votre objet.</p>
<p >Certaines fonctions seront automatiquement appelées par <a class="el" href="class_kap_engine.html" title="Class of engine.">KapEngine</a> ce qui permet une autonomisation du fonctionnement de votre jeu une fois lancé.</p>
<p >:warning: le <a class="el" href="class_kap_engine.html" title="Class of engine.">KapEngine</a> est un engine multi thread. Ce qui signifie que le jeu utilisera plusieurs coeur de votre ordinateur pour effectuer des calculs plus rapides. Les composants sont appelés sur les thread suivant : 2, 3, 4. Lors de la création de vos composants, vous pouvez définir sur quel thread votre composant tournera. Si vous définissez un autre "threadID" que ceux indiqué juste avant, votre composant ne sera jamais lu.</p>
<p >Cette méthode de calcul vous permet d'avoir un jeu plus performant. Cependant il se peut que vous ayez des réécriute de valeur. Ce sera à vous d'y faire attention.</p>
<h2><a class="anchor" id="autotoc_md17"></a>
Créer le sien</h2>
<p >Créer un composant est très simple. Vous devez créer un nouveau fichier .hpp. Ce fichier contiendra la classe de votre composant : exemple. Une fois que vous aurez créé ce composant, il fous suffira de l'ajouter sur un objet.</p>
<p >Exemple: </p><div class="fragment"><div class="line"> {C++}</div>
<div class="line"> </div>
<div class="line">int main() {</div>
<div class="line">    /*</div>
<div class="line">        On suppose que vous aurez déjà initilisé l&#39;engine et certaines scene.</div>
<div class="line">    </div>
<div class="line">        La variable scene ici contiendra une scène déjà initialisée</div>
<div class="line">    */</div>
<div class="line"> </div>
<div class="line">    //sur cette ligne vous demandez à l&#39;engine de créer un objet de votre scene</div>
<div class="line">    std::shared_ptr&lt;GameObject&gt; monObjet = KapEngine::Factory::createEmptyGameObject(scene, &quot;Le nom de mon objet&quot;);</div>
<div class="line"> </div>
<div class="line">    //sur cette ligne vous demandez de la mémoire pour votre nouveau composant</div>
<div class="line">    std::make_shared&lt;MonComposant&gt; monComposant = std::make_shared&lt;MonComposant&gt;(monObjet);</div>
<div class="line">    </div>
<div class="line">    //sur cette ligne vous ajouté le composant à l&#39;objet</div>
<div class="line">    monObjet-&gt;addComponent(monComposant);</div>
<div class="line">}</div>
</div><!-- fragment --><p> Ces étapes sont obligatoires pour pouvoir ajouter un composant à un objet.</p>
<p >:warning: Il est primordiale de ne pas mélanger les GameObjects pour le composant. L'objet dans lequel vous ajouté le composant doit être le même objet qui se trouve dans le constructeur du composant comme dans l'exemple.</p>
<h3><a class="anchor" id="autotoc_md18"></a>
Liste des fonctions disponibles</h3>
<h4><a class="anchor" id="autotoc_md19"></a>
onInit</h4>
<p >Cette fonction est appelée lors de l'initialisation du composant au runtime.</p>
<h2><a class="anchor" id="autotoc_md20"></a>
Démarrage Rapide</h2>
<div class="fragment"><div class="line"> {C++}</div>
<div class="line"> </div>
<div class="line">//déclaration de ce que l&#39;on a besoin d&#39;inclure</div>
<div class="line"> </div>
<div class="line">#include &quot;Component&quot;</div>
<div class="line"> </div>
<div class="line">namespace KapEngine {</div>
<div class="line">    class Component;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// définition de ton nouveau composant</div>
<div class="line"> </div>
<div class="line">namespace KapEngine {</div>
<div class="line"> </div>
<div class="line">    namespace MonJeu {</div>
<div class="line"> </div>
<div class="line">        class MonComposant : public Component {</div>
<div class="line">            public:</div>
<div class="line">                //constructeur du composant avec l&#39;id de son thread</div>
<div class="line">                MonComposant(std::shared_ptr&lt;GameObject&gt; go, int threadId);</div>
<div class="line">                //constructuer du composant sans préciser son thread</div>
<div class="line">                MonComposant(std::shared_ptr&lt;GameObject&gt; go);</div>
<div class="line">                ~MonComposant();</div>
<div class="line"> </div>
<div class="line">                /**</div>
<div class="line">                 * Fonctionnalité de base d&#39;un composant</div>
<div class="line">                */</div>
<div class="line"> </div>
<div class="line">                //appelé lors de l&#39;initialisation du composant (au runtime)</div>
<div class="line">                void onInit() override;</div>
<div class="line">                //appelé lors du premier chargement de la scène OU quand on charge la scène après qu&#39;une autre scène ai été chargé</div>
<div class="line">                void onAwake() override;</div>
<div class="line">                //appelé à chaque chargement / rechargement de la scène</div>
<div class="line">                void onStart() override;</div>
<div class="line">                //appelé à chaque frame</div>
<div class="line">                void onUpdate() override;</div>
<div class="line">                //appelé à chaque X ms. (X étant le nombre définie par vous dans l&#39;engine. De base X = 25)</div>
<div class="line">                void onFixedUpdate() override;</div>
<div class="line">                //appelé après toutes les fonctions de mise à jour</div>
<div class="line">                void onDisplay() override;</div>
<div class="line"> </div>
<div class="line">                /**</div>
<div class="line">                 * Fonctionnalité lorsque votre GameObject (objet de jeu) à un composant collider sur lui</div>
<div class="line">                 * </div>
<div class="line">                 * Attnetion !</div>
<div class="line">                 * Les fonctions suivantes, ne seront pas appelé lors des fonctions mise à jour (au dessus)</div>
<div class="line">                 * ces fonctions peuvent être appelé plus tard ou avant</div>
<div class="line">                */</div>
<div class="line"> </div>
<div class="line">                //appelé lors du passage de la souris sur l&#39;objet</div>
<div class="line">                void onMouseEnter() override;</div>
<div class="line">                //appelé lorsque la souris reste sur l&#39;objet</div>
<div class="line">                void onMouseStay() override;</div>
<div class="line">                //appelé lors de la sortie de la souris sur l&#39;objet</div>
<div class="line">                void onMouseExit() override;</div>
<div class="line"> </div>
<div class="line">                //appelé lorsqu&#39;un objet rentre dans l&#39;objet rattaché</div>
<div class="line">                void onTriggerEnter(std::shared_ptr&lt;GameObject&gt; go) override;</div>
<div class="line">                //appelé lorsqu&#39;un objet reste dans l&#39;objet rattaché</div>
<div class="line">                void onTriggerStay(std::shared_ptr&lt;GameObject&gt; go) override;</div>
<div class="line">                //appelé lorsqu&#39;un objet sort dans l&#39;objet rattaché</div>
<div class="line">                void onTriggerExit(std::shared_ptr&lt;GameObject&gt; go) override;</div>
<div class="line"> </div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        MonComposant(std::shared_ptr&lt;GameObject&gt; go, int threadId) : Component(go, &quot;Nom du composant&quot;, threadId) {</div>
<div class="line">            Debug::log(&quot;Suppression du composant au thread &quot; + std::to_string(threadId) + &quot; !&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        MonComposant(std::shared_ptr&lt;GameObject&gt; go) : Component(go, &quot;Nom du composant&quot;) {</div>
<div class="line">            Debug::log(&quot;Création du composant sans préciser de thread !&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        ~MonComposant() {</div>
<div class="line">            Debug::log(&quot;Suppression du composant !&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        void MonComposant::onInit() {</div>
<div class="line">            Debug::log(&quot;Mon composant initialisé !&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        void MonComposant::onAwake() {</div>
<div class="line">            Debug::log(&quot;Mon composant se lève !&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        void MonComposant::onStart() {</div>
<div class="line">            Debug::log(&quot;Mon composant commence !&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        void MonComposant::onUpdate() {</div>
<div class="line">            Debug::log(&quot;Mon composant appelle l&#39;update !&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        void MonComposant::onFixedUpdate() {</div>
<div class="line">            Debug::log(&quot;Mon composant appelle le fixedUpdate !&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        void MonComposant::onDisplay() {</div>
<div class="line">            Debug::log(&quot;Mon composant s&#39;affiche !&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        void MonComposant::onMouseEnter() {</div>
<div class="line">            Debug::log(&quot;La souris passe sur mon objet&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        void MonComposant::onMouseStay() {</div>
<div class="line">            Debug::log(&quot;La souris reste sur mon objet&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        void MonComposant::onMouseExit() {</div>
<div class="line">            Debug::log(&quot;La souris sort de mon objet&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        void MonComposant::onTriggerEnter(std::shared_ptr&lt;GameObject&gt; go) {</div>
<div class="line">            Debug::log(&quot;L&#39;objet &quot; + go-&gt;getName() + &quot; rentre dans mon objet&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        void MonComposant::onTriggerStay(std::shared_ptr&lt;GameObject&gt; go) {</div>
<div class="line">            Debug::log(&quot;L&#39;objet &quot; + go-&gt;getName() + &quot; reste dans mon objet&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        void MonComposant::onTriggerExit(std::shared_ptr&lt;GameObject&gt; go) {</div>
<div class="line">            Debug::log(&quot;L&#39;objet &quot; + go-&gt;getName() + &quot; sort de mon objet&quot;);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
